

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="https://s2.loli.net/2024/10/29/lUILWGcexEiNZjh.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="SunsetGlow95">
  <meta name="keywords" content="">
  
    <meta name="description" content="01 Vjudge 没做，但是感觉挺难的。  Luogu P5607 [Ynoi2013] 无力回天 NOI2017 察觉到奇偶性的关键，尝试把偶数个数的线性基建出来，发现刚好是差分数组的线性基。奇数个数的情况就是随便多插一个数进去算。  *Codeforces 1320D Reachable Strings 没写，但应该等价。 直接考虑最小表示，类似于把 11 拖到最前面，后面的 1 都是形单">
<meta property="og:type" content="article">
<meta property="og:title" content="题解 - 2024 十一月做题记录">
<meta property="og:url" content="http://sunsetglow95.github.io/2024/11/18/sol-2024nov/index.html">
<meta property="og:site_name" content="SunsetGlow95&#39;s Blog">
<meta property="og:description" content="01 Vjudge 没做，但是感觉挺难的。  Luogu P5607 [Ynoi2013] 无力回天 NOI2017 察觉到奇偶性的关键，尝试把偶数个数的线性基建出来，发现刚好是差分数组的线性基。奇数个数的情况就是随便多插一个数进去算。  *Codeforces 1320D Reachable Strings 没写，但应该等价。 直接考虑最小表示，类似于把 11 拖到最前面，后面的 1 都是形单">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-11-18T14:15:09.000Z">
<meta property="article:modified_time" content="2024-11-29T15:38:47.850Z">
<meta property="article:author" content="SunsetGlow95">
<meta property="article:tag" content="树上问题">
<meta property="article:tag" content="动态规划">
<meta property="article:tag" content="ad-hoc">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>题解 - 2024 十一月做题记录 - SunsetGlow95&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"sunsetglow95.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>SunsetGlow95&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://s2.loli.net/2024/10/21/iC5uDOy7pe3PzJw.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="题解 - 2024 十一月做题记录"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-11-18 22:15" pubdate>
          2024年11月18日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.4k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          54 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">题解 - 2024 十一月做题记录</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="01"><a class="markdownIt-Anchor" href="#01"></a> 01</h2>
<p>Vjudge 没做，但是感觉挺难的。</p>
<h3 id="luogu-p5607-ynoi2013-无力回天-noi2017"><a class="markdownIt-Anchor" href="#luogu-p5607-ynoi2013-无力回天-noi2017"></a> Luogu P5607 [Ynoi2013] 无力回天 NOI2017</h3>
<p>察觉到奇偶性的关键，尝试把偶数个数的线性基建出来，发现刚好是差分数组的线性基。奇数个数的情况就是随便多插一个数进去算。</p>
<h3 id="codeforces-1320d-reachable-strings"><a class="markdownIt-Anchor" href="#codeforces-1320d-reachable-strings"></a> *Codeforces 1320D Reachable Strings</h3>
<p>没写，但应该等价。</p>
<p>直接考虑最小表示，类似于把 <code>11</code> 拖到最前面，后面的 <code>1</code> 都是形单影只，而且这种情况下 <code>0</code> 连续段长度（广义）不变。所以把所有 <code>11</code> 删掉，直接比哈希值就可以了。另一种理解方法：相邻 <code>0</code> 的距离的奇偶性不变，维护这个东西的哈希值，注意头加一个 <code>0</code> 尾加一个 <code>0</code>。</p>
<h2 id="02"><a class="markdownIt-Anchor" href="#02"></a> 02</h2>
<h3 id="a-串串游戏string"><a class="markdownIt-Anchor" href="#a-串串游戏string"></a> A 串串游戏（string）</h3>
<p>遇到字典序，直接逐位考虑。逐位枚举，记一个子序列自动机即可。</p>
<h3 id="b-最长上升子序列lis"><a class="markdownIt-Anchor" href="#b-最长上升子序列lis"></a> B 最长上升子序列（lis）</h3>
<p>逐个间隔考虑，上面的每层都是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 的次幂，最后一层要拉出来讨论，可能以最后一层或倒数第二层为本位。</p>
<h3 id="c-墙wall"><a class="markdownIt-Anchor" href="#c-墙wall"></a> C 墙（wall）</h3>
<p>逐位考虑贡献，发现类似于左边点乘右边，不好做，所以考虑从另一维入手，即值域。（等于转大于应该是显然的。）把式子推清楚就很好写了。</p>
<p>11.29 补题完毕。</p>
<h3 id="d-有理数number"><a class="markdownIt-Anchor" href="#d-有理数number"></a> D 有理数（number）</h3>
<p>手动通分肯定是要的。逐个质因子讨论对乘积的贡献，发现如果两个数对这个质因子的最大次数不等，只能取小的，对最大次数相等的情况会有额外贡献，枚举额外贡献（注意范围）开 <code>map</code> 即可。时间：能过。</p>
<h2 id="03"><a class="markdownIt-Anchor" href="#03"></a> 03</h2>
<p>ZR 十连，跟没打一样，无法集中精力。不想说话。</p>
<h2 id="04"><a class="markdownIt-Anchor" href="#04"></a> 04</h2>
<h3 id="agc002e-candy-piles"><a class="markdownIt-Anchor" href="#agc002e-candy-piles"></a> AGC002E Candy Piles</h3>
<p>观察，发现每个 1 都会从边界往内延伸一条斜线，即可。</p>
<h3 id="codeforces-1930h-interactive-mex-tree"><a class="markdownIt-Anchor" href="#codeforces-1930h-interactive-mex-tree"></a> Codeforces 1930H Interactive Mex Tree</h3>
<p>神了，dfs 序有两个：入栈序和出栈序。【如何高级地理解出栈序呢。】</p>
<h3 id="codeforces-1819d-misha-and-apples"><a class="markdownIt-Anchor" href="#codeforces-1819d-misha-and-apples"></a> Codeforces 1819D Misha and Apples</h3>
<p>枚举最后一次删空，后面的不能再删空是容易判的，当前点能被删空判定法是枚举上一次删空，讨论中间的前驱情况，然后这个点是有单调性的。</p>
<h2 id="05"><a class="markdownIt-Anchor" href="#05"></a> 05</h2>
<h3 id="a-序列-sequence"><a class="markdownIt-Anchor" href="#a-序列-sequence"></a> A 序列 (sequence)</h3>
<p>尺取，实际表现中正常 gcd 快于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> gcd，菜。</p>
<h3 id="d-牛仔-nz"><a class="markdownIt-Anchor" href="#d-牛仔-nz"></a> D 牛仔 (nz)</h3>
<p>考虑算贡献，也就是钦定一个区间，算有多少个序列。</p>
<p>如果模式串是牛仔序列，则整个串都是。</p>
<p>如果模式串并非两两不同，则左右是独立的，从中间往两边分别 DP（更简洁！），做点乘即可。</p>
<p>否则左右不独立，考虑从左往右 DP，每次都加上贡献，贡献除以一个系数，并且如同其它 DP 一样更新。</p>
<h3 id="c-长者-young"><a class="markdownIt-Anchor" href="#c-长者-young"></a> C 长者 (young)</h3>
<p>我不会枚举，我不会搜索。</p>
<p>XOR-MST 的框架都是类似的。讨论左右两个联通块的连边，转为计算连边大于等于某个数的方案数，直接搜索即可。</p>
<h3 id="b-道路road"><a class="markdownIt-Anchor" href="#b-道路road"></a> B 道路（road）</h3>
<p>二分。每个点都会连一个后缀，只要这个图可以成为一个欧拉回路（除了后缀连边可以任意重边）即可（有点像是，哈密顿回路转欧拉回路）。</p>
<h2 id="06"><a class="markdownIt-Anchor" href="#06"></a> 06</h2>
<p>越来越理解不了，各种理解不了。</p>
<h3 id="a-纵使日薄西山"><a class="markdownIt-Anchor" href="#a-纵使日薄西山"></a> A 纵使日薄西山</h3>
<p>两个两个枚举，FWT。既然是降难度，然后值域比较小，就是扑空的次数很少，暴力即可。</p>
<h3 id="b-即便看不到未来"><a class="markdownIt-Anchor" href="#b-即便看不到未来"></a> B 即便看不到未来</h3>
<p>这怎么会得了的？</p>
<p>考虑减量。考虑三维最小的位置，然后贪心删掉一个最小代价的。</p>
<h3 id="c-此时此刻的光辉"><a class="markdownIt-Anchor" href="#c-此时此刻的光辉"></a> C 此时此刻的光辉</h3>
<p>随便写一个状压搜索，逐位加，用平衡说明复杂度正确。</p>
<h3 id="d-盼君勿忘"><a class="markdownIt-Anchor" href="#d-盼君勿忘"></a> *D 盼君勿忘</h3>
<p>观察不难，剩下就是硬推组合和式，然后树上启发式算增量。不太想做。</p>
<h2 id="07"><a class="markdownIt-Anchor" href="#07"></a> 07</h2>
<h3 id="a-飞翔fly"><a class="markdownIt-Anchor" href="#a-飞翔fly"></a> A 飞翔（fly）</h3>
<p>可以直接算边权。</p>
<h3 id="b-子序列们sub"><a class="markdownIt-Anchor" href="#b-子序列们sub"></a> B 子序列们（sub）</h3>
<p>区间 DP，以最终存活为分界点。</p>
<h3 id="c-钙绿probability"><a class="markdownIt-Anchor" href="#c-钙绿probability"></a> C 钙绿（probability）</h3>
<p>记得超乎其外，做好预处理。</p>
<h3 id="d-动态树tree"><a class="markdownIt-Anchor" href="#d-动态树tree"></a> *D 动态树（tree）</h3>
<p>根号重构。可以做长剖或转二维上 KD-Tree。</p>
<h3 id="luogu-p9846-icpc2021-nanjing-r-paimons-tree"><a class="markdownIt-Anchor" href="#luogu-p9846-icpc2021-nanjing-r-paimons-tree"></a> Luogu P9846 [ICPC2021 Nanjing R] Paimon’s Tree</h3>
<h2 id="08"><a class="markdownIt-Anchor" href="#08"></a> 08</h2>
<h3 id="qoj-9132-painting-fences"><a class="markdownIt-Anchor" href="#qoj-9132-painting-fences"></a> QOJ 9132 Painting Fences</h3>
<p>发现只关心一个黑矩形扩展为全局。这边界讨论真够阴间的。</p>
<h3 id="qoj-9167-coprime-array"><a class="markdownIt-Anchor" href="#qoj-9167-coprime-array"></a> QOJ 9167 Coprime Array</h3>
<p>质因数分解后讨论。答案很小。</p>
<h3 id="codeforces-1479c-continuous-city"><a class="markdownIt-Anchor" href="#codeforces-1479c-continuous-city"></a> Codeforces 1479C Continuous City</h3>
<p>二进制拆分。</p>
<h3 id="codeforces-1994h-fortnite"><a class="markdownIt-Anchor" href="#codeforces-1994h-fortnite"></a> Codeforces 1994H Fortnite</h3>
<p>解除怨念，但不知道怎么造这个题。</p>
<p>对于题目询问的进一步刻画：每次询问一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 进制数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>m</mi></mrow><annotation encoding="application/x-tex">\bmod m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord mathnormal">m</span></span></span></span> 的结果，这个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 进制数满足最高位及以下每位取值都在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>26</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,26]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">]</span></span></span></span>。</p>
<p>首先我们会得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span>，询问 <code>aa</code> 即可得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，恰好 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>+</mo><mn>1</mn><mo>&lt;</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">p+1&lt;m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>。</p>
<p>假设我们问了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>m</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">A\bmod m=a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 表示字符串，同时表示 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 进制数），可以得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">(</mo><mi>A</mi><mo>−</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">m|(A-a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord">∣</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span>——但这并没有意义，因为我们只剩一次了。</p>
<p>这一次可以获得另一组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>m</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">B\bmod m = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>。如果这个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 满足一些性质，那么 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 可以非常快求出来，我们要非常非常快。</p>
<p>关键想法：我们不考虑除法，考虑减法，比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>−</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">(</mo><mi>B</mi><mo>−</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">(A-a)-(B-b)=m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>，意思就是两个相邻的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 的倍数差为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>。</p>
<p>所需要的条件是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>a</mi><mo>−</mo><mi>m</mi><mo>≤</mo><mi>B</mi><mo>&lt;</mo><mi>A</mi><mo>−</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">A-a-m\le B&lt;A-a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>，由于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>&gt;</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">m&gt;a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span>，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>≥</mo><mi>a</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m\ge a+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>a</mi><mo>−</mo><mi>m</mi><mo>≤</mo><mi>A</mi><mo>−</mo><mn>2</mn><mi>a</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">A-a-m\le A-2a-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。那么只要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>A</mi><mo>−</mo><mn>2</mn><mi>a</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>A</mi><mo>−</mo><mi>a</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[A-2a-1, A-a-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 有至少一个可以询问的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 就可以了，无论取最小的还是最大的都可以。令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 为 <code>zzzzzzzz</code> 即可。</p>
<h2 id="09"><a class="markdownIt-Anchor" href="#09"></a> 09</h2>
<h3 id="a-ti"><a class="markdownIt-Anchor" href="#a-ti"></a> A ti</h3>
<p>从循环位移的角度刻画。</p>
<h3 id="b-tii"><a class="markdownIt-Anchor" href="#b-tii"></a> B tii</h3>
<p>分数考虑转斜率……</p>
<h3 id="c-tiii"><a class="markdownIt-Anchor" href="#c-tiii"></a> C tiii</h3>
<p>找到一种单调性，发现是速度，有序 DP。</p>
<h3 id="d-tiv"><a class="markdownIt-Anchor" href="#d-tiv"></a> *D tiv</h3>
<p>把图形拆开成 LCA 处的邻域和其余每个点的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span> 层儿子，第一部分点分治，第二部分 dsu on tree，扫描线。</p>
<h2 id="10"><a class="markdownIt-Anchor" href="#10"></a> 10</h2>
<p>现在打十连都不太认真。但是这一把的确是很难。</p>
<h3 id="a-种花"><a class="markdownIt-Anchor" href="#a-种花"></a> A 种花</h3>
<p>单调栈。</p>
<p>其他的目前都不会。</p>
<h2 id="11"><a class="markdownIt-Anchor" href="#11"></a> 11</h2>
<h3 id="arc106e-medals"><a class="markdownIt-Anchor" href="#arc106e-medals"></a> ARC106E Medals</h3>
<p>二分答案，用 Hall 定理，做高维前缀和。</p>
<h3 id="codeforces-1342f-make-it-ascending"><a class="markdownIt-Anchor" href="#codeforces-1342f-make-it-ascending"></a> *Codeforces 1342F Make It Ascending</h3>
<p>状压，把状态的一维和答案交换，因为具有单调性。之所以没过是因为，我没有较小的常数因子。【数据删除】。【数据删除】。【数据删除】。</p>
<h2 id="12"><a class="markdownIt-Anchor" href="#12"></a> 12</h2>
<h3 id="a-定向越野walk"><a class="markdownIt-Anchor" href="#a-定向越野walk"></a> A 定向越野（walk）</h3>
<p>猜一个结论，发现是对的……</p>
<h3 id="b-字符串str"><a class="markdownIt-Anchor" href="#b-字符串str"></a> B 字符串（str）</h3>
<p>扫描线容易想到，KMP 过程中维护左端点集合：这个东西可以扩展，蛮有细节的。办法就是先加入自身，跳 <code>next</code> 删单点，右移一位就把 <code>next</code> 右移一位的删除同态加入。以后不乱写 KMP 了呜呜呜，border 就直接用 KMP 的写法多简洁。</p>
<h3 id="c-数数count"><a class="markdownIt-Anchor" href="#c-数数count"></a> C 数数（count）</h3>
<p>摩尔投票的人数是可以扩展的。</p>
<h3 id="d-逃脱esc-usaco18jan-cow-at-large-p"><a class="markdownIt-Anchor" href="#d-逃脱esc-usaco18jan-cow-at-large-p"></a> D 逃脱（esc）/ USACO18JAN Cow at Large P</h3>
<p>思路感觉其实不难。刻画一下条件然后直接点分治就好了。留意这里是【距离最近的叶子】，不在乎任何子树关系。</p>
<h3 id="arc125f-tree-degree-subset-sum"><a class="markdownIt-Anchor" href="#arc125f-tree-degree-subset-sum"></a> ARC125F Tree Degree Subset Sum</h3>
<p><s>首先我们发现它是一个二元卷积，那完蛋了。</s></p>
<p>我们发现 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>−</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y-x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 固定时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 是一个区间。？？？然后就做完了，这个背包改一下多重背包然后直接跑就行了。</p>
<h2 id="13"><a class="markdownIt-Anchor" href="#13"></a> 13</h2>
<h3 id="a-数的拆分-number-luogu-p8778-蓝桥杯-2022-省-a-数的拆分"><a class="markdownIt-Anchor" href="#a-数的拆分-number-luogu-p8778-蓝桥杯-2022-省-a-数的拆分"></a> A 数的拆分 (number) / Luogu P8778 [蓝桥杯 2022 省 A] 数的拆分</h3>
<p>Powerful Number 性质，发现筛到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mfrac><mn>1</mn><mn>5</mn></mfrac></msup></mrow><annotation encoding="application/x-tex">V^{\frac{1}{5}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9540200000000001em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9540200000000001em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span> 为止，质因数仅四个，性质仍然优良。</p>
<h3 id="b-括号序列-bracket-libreoj-6043-雅礼集训-2017-day7蛐蛐国的修墙方案"><a class="markdownIt-Anchor" href="#b-括号序列-bracket-libreoj-6043-雅礼集训-2017-day7蛐蛐国的修墙方案"></a> B 括号序列 (bracket) / LibreOJ 6043 「雅礼集训 2017 Day7」蛐蛐国的修墙方案</h3>
<p>我们发现把二元环贪心掉，剩下爆搜，跑得够快。</p>
<h3 id="c-数据结构-struct-uoj-637-美团杯2021a-数据结构"><a class="markdownIt-Anchor" href="#c-数据结构-struct-uoj-637-美团杯2021a-数据结构"></a> C 数据结构 (struct) / UOJ 637 【美团杯2021】A. 数据结构</h3>
<p>扫描线。难点在于想到算贡献，然后快速刻画条件：比如说 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 不出现，就是把所有的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 包含了，并且不包含任何一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。后面一个条件直接拿相邻的同色数讨论就可以了。</p>
<h3 id="d-构造数组-array-luogu-p8863-kdoi-03构造数组"><a class="markdownIt-Anchor" href="#d-构造数组-array-luogu-p8863-kdoi-03构造数组"></a> D 构造数组 (array) / Luogu P8863 「KDOI-03」构造数组</h3>
<p><s>首先我们发现它是一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 元卷积，那完蛋了。</s></p>
<p>对每种数讨论。假设当前的状态是操作序列有若干个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>/<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>/<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>（假设我知道现在总共有多少个数，那只要知道一个就全知道了），然后<strong>我们认为它们已经填进去了</strong>！然后要填某个数直接枚举一下组合数一下就可以了。注意组合数细节。</p>
<h2 id="14"><a class="markdownIt-Anchor" href="#14"></a> 14</h2>
<h3 id="luogu-p6377-pa2010-termites-p3210-hnoi2010-取石头游戏"><a class="markdownIt-Anchor" href="#luogu-p6377-pa2010-termites-p3210-hnoi2010-取石头游戏"></a> Luogu P6377 [PA2010] Termites / P3210 [HNOI2010] 取石头游戏</h3>
<p>什么时候才会做博弈论题？什么时候才会动脑筋？</p>
<p>我们没有任何入手点，除了数组本身。然后我们发现，如果它有良好的单调性，我们会做。所以考虑不单调的部分。比如说，单峰：我们发现峰左右两个点一定是同一个人取的，所以可以缩，所有都会变成单谷。但是对于只有单边能选的连续段，在里面还会有一串递增，这一串递增长度为偶的时候大家都不想取，只有最后只剩它们了才会取（奇的时候把外面的端点删掉就一样了）。代码实现上，用栈做，维护两人的差值。</p>
<h3 id="luogu-p9346-无可奈何花落去"><a class="markdownIt-Anchor" href="#luogu-p9346-无可奈何花落去"></a> Luogu P9346 无可奈何花落去</h3>
<p>第一次不好算，但是凋零的状态好办，所以让每个凋零的时刻都有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的贡献，背包一下。</p>
<h3 id="luogu-p8820-csp-s-2022-数据传输"><a class="markdownIt-Anchor" href="#luogu-p8820-csp-s-2022-数据传输"></a> Luogu P8820 [CSP-S 2022] 数据传输</h3>
<p>既然是静态，考虑倍增，算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo separator="true">,</mo><mo>+</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\min, +)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mop">min</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mclose">)</span></span></span></span> 矩阵乘积。注意 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">k=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 可以经过路径外的点。在 LCA 处要讨论一下。</p>
<h3 id="qoj-9562-欧伊昔"><a class="markdownIt-Anchor" href="#qoj-9562-欧伊昔"></a> *QOJ 9562 欧伊昔</h3>
<p>考虑推广 FWT，直接可以做到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>9</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(9^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">9</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。取众数用容斥，其它的同行同列两格可以合并，就可 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>6</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(6^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。拉丁方就挑一行循环一下。但是大家的常数较小，我不说话了。</p>
<h2 id="15"><a class="markdownIt-Anchor" href="#15"></a> 15</h2>
<h3 id="a-数字number"><a class="markdownIt-Anchor" href="#a-数字number"></a> A 数字（number）</h3>
<p>数位 DP 板子。注意 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>！！！挂 T1 这辈子有了。</p>
<h3 id="b-加训train"><a class="markdownIt-Anchor" href="#b-加训train"></a> B 加训（train）</h3>
<p>手动讨论一下，发现只关心左边的 <code>R</code> 和右边的 <code>L</code>，个数可以算，前缀和一下即可。</p>
<h3 id="c-排序sort"><a class="markdownIt-Anchor" href="#c-排序sort"></a> C 排序（sort）</h3>
<p>显然是按前缀最大值归并。每次会把一个块劈开，平均每个根要 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 获取。细节上注意以前切过一刀的地方以后也跳不过去。</p>
<h3 id="d-改造modification"><a class="markdownIt-Anchor" href="#d-改造modification"></a> D 改造（modification）</h3>
<p>Reverse LIS 改，考虑以终为始，什么样的序列给什么样的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 贡献，关心的是取出来的子序列的连续段数。注意钦定最左段和最右段是否被选，若不被选则下一段必被选，否则不优。什么时候才能场切反悔贪心……</p>
<h2 id="16"><a class="markdownIt-Anchor" href="#16"></a> 16</h2>
<p>So hard。</p>
<h3 id="a-书架book-codeforces-802c-heidi-and-library-hard"><a class="markdownIt-Anchor" href="#a-书架book-codeforces-802c-heidi-and-library-hard"></a> *A 书架（book）/ Codeforces 802C Heidi and Library (hard)</h3>
<p>认为书是一股流，并没有被丢掉，只是被放在旁边。</p>
<h3 id="b-序列seq"><a class="markdownIt-Anchor" href="#b-序列seq"></a> *B 序列（seq）</h3>
<p>没听懂。好像可以序列分治。</p>
<h3 id="c-异或xor"><a class="markdownIt-Anchor" href="#c-异或xor"></a> *C 异或（xor）</h3>
<p>对线性空间计数，就是对最简线性基计数。DP 还没想明白。</p>
<h3 id="d-颜色color-atcoder-nikkei2019_qual_f-jewels"><a class="markdownIt-Anchor" href="#d-颜色color-atcoder-nikkei2019_qual_f-jewels"></a> *D 颜色（color）/ AtCoder nikkei2019_qual_f Jewels</h3>
<p>神秘反悔贪心。</p>
<p>晚上打了 ABC，但是很简单，可惜的是吃了两发罚时，失败。</p>
<h2 id="17"><a class="markdownIt-Anchor" href="#17"></a> 17</h2>
<p>ARC 187，D 晚开是策略大失败。</p>
<h3 id="a-add-and-swap"><a class="markdownIt-Anchor" href="#a-add-and-swap"></a> A Add and Swap</h3>
<p>在 B 后切出，真是笨完了。</p>
<p>考虑对一个点连续做两次操作，相当于给它和它后面一位同时 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">+k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>，所以只做这种事情可以把除了最后一位以外的做到不降。</p>
<p>假设对最后一位往前移偶数位，直到前面单调不降，后面全体加一些 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 即可。如果到了第二位，还不是单调不降，做一次。还是不行，那就是无解。反正我不会。</p>
<h3 id="b-sum-of-cc"><a class="markdownIt-Anchor" href="#b-sum-of-cc"></a> B Sum of CC</h3>
<p>这个简单一点。考察两个点不联通的情况。假设从左到右可以用几个极小正方形覆盖所有点，那么这些正方形互不联通。所以直接考虑每个断点左右会不会分隔开即可。</p>
<h3 id="c-1-loop-bubble-sort"><a class="markdownIt-Anchor" href="#c-1-loop-bubble-sort"></a> *C 1 Loop Bubble Sort</h3>
<p>好像是刻画成前缀最大值数量相关，然后不会了。</p>
<h3 id="d-many-easy-optimizations"><a class="markdownIt-Anchor" href="#d-many-easy-optimizations"></a> D Many Easy Optimizations</h3>
<p>这个赛时会了，但是写不动。</p>
<p>对每个右端点维护最大的左端点，每次加入一个数是区间取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mop">min</span></span></span></span>，维护连续段即可，事实上只要在起点维护即可。11.20 补题完毕。</p>
<h3 id="e-replace-triplets"><a class="markdownIt-Anchor" href="#e-replace-triplets"></a> *E Replace Triplets</h3>
<p>没研究，不会。</p>
<h2 id="18"><a class="markdownIt-Anchor" href="#18"></a> 18</h2>
<h3 id="agc009d-uninity"><a class="markdownIt-Anchor" href="#agc009d-uninity"></a> AGC009D Uninity</h3>
<p>神了。首先发现要求最大深度最小的点分树，但先不要直接把点分治糊上去……</p>
<p>把点分树上深度记在每个点上，对这个东西的约束是：任意两个相等的点路径上必然有至少一个数比它们大。然后乖乖地随便找个根做树上 DP 即可。</p>
<h3 id="arc139d-priority-queue-2"><a class="markdownIt-Anchor" href="#arc139d-priority-queue-2"></a> ARC139D Priority Queue 2</h3>
<p>这我哪会啊？？考虑对于排名相关，就画横线，大于小于分为 <code>01</code> 再做。这题一样，这样刻画就行了。</p>
<h3 id="luogu-p8173-ceoi2021-newspapers"><a class="markdownIt-Anchor" href="#luogu-p8173-ceoi2021-newspapers"></a> Luogu P8173 [CEOI2021] Newspapers</h3>
<p>服了。阴间分讨，阴间构造性思维。</p>
<p>首先有环不行，感觉是对的嘛。然后我们构造一个链的答案，这个我也不太会，反正就是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2\sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 再 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn><mo>∼</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n-1\sim 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。</p>
<p>接下来很神。考虑以链为本位，往外面挂点，发现挂的点深度超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 就会无解，反正我构造不出来。</p>
<p>然后把直径取出来做一做就好了。</p>
<h2 id="19"><a class="markdownIt-Anchor" href="#19"></a> 19</h2>
<h3 id="a-战队分配team"><a class="markdownIt-Anchor" href="#a-战队分配team"></a> A 战队分配（team）</h3>
<p>正负拆贡献，感觉挺灵机一动的。</p>
<h3 id="b-货车运输cargo"><a class="markdownIt-Anchor" href="#b-货车运输cargo"></a> B 货车运输（cargo）</h3>
<p>容易想到钦定一个有序。另一个，我们关注前面还有几位没填和目前总和，即得 DP。</p>
<h3 id="c-甜果sugar"><a class="markdownIt-Anchor" href="#c-甜果sugar"></a> C 甜果（sugar）</h3>
<p>转概率。看起来是内向基环树，但把确定的点拎出来发现只是剖成几棵树。对于一个深度的答案是确定的，注意不能瞎猜，打个表就好了。</p>
<h3 id="d-打平就能出线qualify"><a class="markdownIt-Anchor" href="#d-打平就能出线qualify"></a> *D 打平就能出线！（qualify）</h3>
<p>什么？二分、分类讨论，想必是 T1 难度吧！什么？怎么赛时最高分 10 分？</p>
<h3 id="luogu-p6105-ynoi2010-y-fast-trie"><a class="markdownIt-Anchor" href="#luogu-p6105-ynoi2010-y-fast-trie"></a> Luogu P6105 [Ynoi2010] y-fast trie</h3>
<p>原来的想法可以，就是把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">&lt;C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">\ge C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 的分开来讨论，然后对一个点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 同时在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>−</mo><mn>1</mn><mo>−</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">C-1-x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 的位置记录，然后就是一个可以合并的东西。卡空间，所以平衡树。卡常，所以不可以无旋 Treap，Splay 直接过了。</p>
<h2 id="20"><a class="markdownIt-Anchor" href="#20"></a> 20</h2>
<p>喜欢 ty round，每次都有濒死的感受。</p>
<h3 id="a-迷宫maze"><a class="markdownIt-Anchor" href="#a-迷宫maze"></a> A 迷宫（maze）</h3>
<p>大家好，我们卡常。</p>
<p>有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nmk)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> 做法，但不想恶心自己。</p>
<h3 id="b-玩具toy"><a class="markdownIt-Anchor" href="#b-玩具toy"></a> B 玩具(toy)</h3>
<p>比 T1 简单。从左往右，每种移动都是贪心做最远。</p>
<h3 id="c-权重weight"><a class="markdownIt-Anchor" href="#c-权重weight"></a> C 权重(weight)</h3>
<p>点分治/dsu on tree，用 01-Trie 统计。清空不用递归，直接赋总和与根为空！</p>
<h3 id="d-周长perimeter-arc063f-すぬけ君の塗り絵-2"><a class="markdownIt-Anchor" href="#d-周长perimeter-arc063f-すぬけ君の塗り絵-2"></a> D 周长(perimeter) / ARC063F すぬけ君の塗り絵 2</h3>
<p>分治是好想的，单调栈，同时搞搞区间加全局查最值。但是我们发现除去显然的下界，答案必然过横竖两条中线之一……妈呀……</p>
<p>现在是任何数据结构都可以干掉我了。我完了。</p>
<h3 id="luogu-p8866-noip2022-喵了个喵"><a class="markdownIt-Anchor" href="#luogu-p8866-noip2022-喵了个喵"></a> Luogu P8866 [NOIP2022] 喵了个喵</h3>
<p>昨晚做到今天。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k=2n-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 早就会了。对于多出来的一个，你可以考虑一些灵活一点的方法，连带后面的内容一起考虑进来。假设我们放到空栈，接下来一定要有新的空栈，就是一个在栈底的，它的上面被消了。如果下一个在栈底的不能被顶消，就干脆把当前放到它上面，然后底消。（自己做的时候多讨论了次数是否为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的 case，但是不用，因为偶数次都会自己抵消，借鉴了 HF zzh 老师才知道。）代码细节很多，我写了一个结构维护所有栈的信息，然后用 <code>extract()</code> 和 <code>append()</code> 来临时取走/加入某个栈，用 <code>push()</code> 和 <code>eliminate()</code> 做顶消和底消。但是这个东西不能和 <code>bel[]</code> 同时维护，所以很细。</p>
<h2 id="21"><a class="markdownIt-Anchor" href="#21"></a> 21</h2>
<p>拜谢原创题领域大神 yukimianyan。</p>
<h3 id="a-soso-的期望并查集exsodsu"><a class="markdownIt-Anchor" href="#a-soso-的期望并查集exsodsu"></a> A Soso 的期望并查集（exsodsu）</h3>
<p>（带权）并查集模拟，使用期望的线性性。</p>
<h3 id="b-soso-的模法矩阵modmat"><a class="markdownIt-Anchor" href="#b-soso-的模法矩阵modmat"></a> B Soso 的模法矩阵（modmat）</h3>
<p>变进制数模板题。或者根据模数的倍数关系想到。</p>
<h3 id="c-soso-的排列soperme"><a class="markdownIt-Anchor" href="#c-soso-的排列soperme"></a> C Soso 的排列（soperme）</h3>
<p>排列是变进制数，所以考虑数位 DP，逐位跳，从低到高位再从高到低位。</p>
<h3 id="d-走路walk-qoj-8557-goldberg-machine"><a class="markdownIt-Anchor" href="#d-走路walk-qoj-8557-goldberg-machine"></a> D 走路（walk）/ QOJ 8557 Goldberg Machine</h3>
<p>不带修：P7831。知道了欧拉环游序的结论，对每个点都有一个时间戳，单次修改是区间时间戳 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>±</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\pm 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">±</span><span class="mord">1</span></span></span></span>，然后查询可以二分，分块做到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><msqrt><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\sqrt{n\log n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.085em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.835em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-2.795em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.20500000000000007em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，注意到块内值域较小。</p>
<p>被 VJudge 猜结论虐杀了。</p>
<h3 id="qoj-9453-graph-generator"><a class="markdownIt-Anchor" href="#qoj-9453-graph-generator"></a> QOJ 9453 Graph Generator</h3>
<p>倒着想，正着做。</p>
<h3 id="qoj-7866-gym-104891j-teleportation"><a class="markdownIt-Anchor" href="#qoj-7866-gym-104891j-teleportation"></a> QOJ 7866 / Gym 104891J Teleportation</h3>
<p>关键是想到交换一二操作顺序，注意到第一步必走的细节。</p>
<h3 id="qoj-9135-teleports"><a class="markdownIt-Anchor" href="#qoj-9135-teleports"></a> QOJ 9135 Teleports</h3>
<p>区间 DP，同层做最短路。</p>
<h2 id="22"><a class="markdownIt-Anchor" href="#22"></a> 22</h2>
<h3 id="codeforces-1458d-flip-and-reverse"><a class="markdownIt-Anchor" href="#codeforces-1458d-flip-and-reverse"></a> Codeforces 1458D Flip and Reverse</h3>
<p>这能独立做出来是没想到的。把每个数换成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span> 的次幂，发现这个操作刚好是这样折线图的 reverse。一次 reverse 中边的种类不变，只在乎后面还是否存在，要逐位贪心，认为找一条欧拉路径即可。</p>
<p>这里以上是独立解答。</p>
<h3 id="qoj-7861-gym-104891e-inverse-topological-sort"><a class="markdownIt-Anchor" href="#qoj-7861-gym-104891e-inverse-topological-sort"></a> QOJ 7861 / Gym 104891E Inverse Topological Sort</h3>
<p>发现关键是最后一个卡脖子的数，认为这样子拼起来的图可以就是可以，不行就是无解。注意 check 同时检查最大最小序列是否相同……</p>
<h3 id="qoj-9246-dominating-point"><a class="markdownIt-Anchor" href="#qoj-9246-dominating-point"></a> QOJ 9246 Dominating Point</h3>
<p>这个手玩没想到，就是假设 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 两步内到不了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mo separator="true">,</mo><mi>p</mi><mo>→</mo><mi>x</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>q</mi><mo>→</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\forall x, p\to x\implies q\to x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>，这是一个非常好的性质，然后就可以按出度排序做。</p>
<h3 id="qoj-8517-interesting-paths"><a class="markdownIt-Anchor" href="#qoj-8517-interesting-paths"></a> QOJ 8517 Interesting Paths</h3>
<p>这个好题。考虑把贡献只记在一条边上，就会有一些边不给算，发现你从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 开始搞一棵不到达 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的生成树即可，所以答案只和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span></span></span></span> 有关，注意把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 不可达或不可达 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的删掉。</p>
<h3 id="qoj-9141-array-spread"><a class="markdownIt-Anchor" href="#qoj-9141-array-spread"></a> QOJ 9141 Array Spread</h3>
<p>这个是神题。处理分数除了设数、斜率以外的方法：钦定最小值为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，最大值不超过此值。二分，可以有理数逼近，也可以发现分母分子不超过连续段个数，然后直接在 Farey 序列上二分。</p>
<h3 id="codeforces-1290d-coffee-varieties-hard-version"><a class="markdownIt-Anchor" href="#codeforces-1290d-coffee-varieties-hard-version"></a> Codeforces 1290D Coffee Varieties (hard version)</h3>
<p>我们发现 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 为块长是不可以的，所以选取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>k</mi><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{k}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>……</p>
<p>剩下的就是考虑每次处理一对很浪费，考虑做最小链覆盖，一个好的写法是做成欧拉回路。</p>
<h2 id="23"><a class="markdownIt-Anchor" href="#23"></a> 23</h2>
<h3 id="noip-模拟"><a class="markdownIt-Anchor" href="#noip-模拟"></a> NOIP 模拟</h3>
<h4 id="a-旅游高手expert-luogu-p9373-droiround-2-构造与取模"><a class="markdownIt-Anchor" href="#a-旅游高手expert-luogu-p9373-droiround-2-构造与取模"></a> A 旅游高手（expert）/ Luogu P9373 「DROI」Round 2 构造与取模</h4>
<p>小数模大数值不变。</p>
<h4 id="b-桜树街道sakura"><a class="markdownIt-Anchor" href="#b-桜树街道sakura"></a> B 桜树街道（sakura）</h4>
<p>树上笛卡尔树。</p>
<h4 id="c-朱雀湖lake-qoj-8211-enumerating-substrings"><a class="markdownIt-Anchor" href="#c-朱雀湖lake-qoj-8211-enumerating-substrings"></a> C 朱雀湖（lake）/ QOJ 8211 Enumerating Substrings</h4>
<p>一点也不简单的计数。</p>
<p>发现模式串 border 至多有 1 个，所以可以容斥。系数是：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mo>≤</mo><mn>0</mn><mo separator="true">;</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mo>−</mo><msub><mo>∑</mo><mrow><mi>i</mi><mo>−</mo><mi>k</mi><mo>&lt;</mo><mi>j</mi><mo>&lt;</mo><mi>i</mi></mrow></msub><msub><mi>f</mi><mi>j</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">;</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f_i=\begin{cases}0, &amp;i\le 0;\\
i-\sum_{i-k&lt; j&lt; i}f_j, &amp;i&gt; 0;\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6919089999999999em;"><span style="top:-3.691909em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.2519090000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.18639799999999984em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1919089999999999em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6919089999999999em;"><span style="top:-3.691909em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mpunct">;</span></span></span><span style="top:-2.2519090000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mpunct">;</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1919089999999999em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">⌈</mo><mfrac><mi>i</mi><mi>k</mi></mfrac><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">f_i=\lceil \frac{i}{k} \rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.200664em;vertical-align:-0.345em;"></span><span class="mopen">⌈</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.855664em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌉</span></span></span></span>。</p>
<p>注意模式串的总数不是随便填，所以算无 border 的时候容斥要留意。</p>
<h4 id="d-小情侣lovers-luogu-p5211-zjoi2017-字符串"><a class="markdownIt-Anchor" href="#d-小情侣lovers-luogu-p5211-zjoi2017-字符串"></a> *D 小情侣（lovers）/ Luogu P5211 [ZJOI2017] 字符串</h4>
<p>Significant Suffix 板子题。关键结论：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo>∈</mo><mtext>SS</mtext><mo separator="true">,</mo><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi><mo>&lt;</mo><mi mathvariant="normal">∣</mi><mi>B</mi><mi mathvariant="normal">∣</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>A</mi><mo>∈</mo><mtext>border</mtext><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>∧</mo><mn>2</mn><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi><mo>&lt;</mo><mi mathvariant="normal">∣</mi><mi>B</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\forall A,B\in \textrm{SS}, |A|&lt;|B|\implies A\in \textrm{border}(B)\land 2|A|&lt;|B|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">∀</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textrm">SS</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textrm">border</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">∣</span></span></span></span>。哈希用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo><mo>−</mo><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\sqrt N)-O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.176665em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9266650000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;padding-left:0.833em;">N</span></span><span style="top:-2.886665em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11333499999999996em;"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p>
<h3 id="codeforces-2039-codeton-round-9-div-1-div-2-rated-prizes"><a class="markdownIt-Anchor" href="#codeforces-2039-codeton-round-9-div-1-div-2-rated-prizes"></a> Codeforces 2039 CodeTON Round 9 (Div. 1 + Div. 2, Rated, Prizes!)</h3>
<h4 id="a-shohag-loves-mod"><a class="markdownIt-Anchor" href="#a-shohag-loves-mod"></a> A Shohag Loves Mod</h4>
<p>输出值域是长度的两倍，考虑 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>i</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2i-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p>
<h4 id="b-shohag-loves-strings"><a class="markdownIt-Anchor" href="#b-shohag-loves-strings"></a> B Shohag Loves Strings</h4>
<p>发现我们更关心字符是否重复。越短的字符串似乎更容易找，手玩一下，发现 <code>aa</code> 和 <code>abc</code> 两种就可以覆盖所有可能的情况了。</p>
<h4 id="c1-shohag-loves-xor-easy-version"><a class="markdownIt-Anchor" href="#c1-shohag-loves-xor-easy-version"></a> C1 Shohag Loves XOR (Easy Version)</h4>
<p>要求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>⊕</mo><mi>y</mi><mo>≤</mo><mo stretchy="false">⌊</mo><mfrac><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">x\oplus y\le \lfloor\frac{\min(x,y)}{2}\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋</span></span></span></span>，所以枚举一下 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>≤</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mn>2</mn><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y\le\min (m,2x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>。</p>
<h4 id="c2-shohag-loves-xor-hard-version"><a class="markdownIt-Anchor" href="#c2-shohag-loves-xor-hard-version"></a> C2 Shohag Loves XOR (Hard Version)</h4>
<p>喜欢恶心人。</p>
<p>枚举 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>⊕</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x\oplus y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，逐个 check。根据 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>−</mo><mi>y</mi><mo>≤</mo><mi>x</mi><mo>⊕</mo><mi>y</mi><mo>≤</mo><mi>x</mi><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x-y\le x\oplus y\le x+y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> 发现 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>⊕</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x\oplus y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> 较小的时候总是满足，不一定满足的在一个区间，枚举。注意判定的条件！！！！！不能两种都算上了，手动讨论一下。</p>
<h4 id="d-shohag-loves-gcd"><a class="markdownIt-Anchor" href="#d-shohag-loves-gcd"></a> D Shohag Loves GCD</h4>
<p>从倍数关系必须满足入手，最容易不为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 的办法就是比它们都大，毕竟还要字典序最大，发现这时已构造完了。</p>
<h4 id="e-shohag-loves-inversions"><a class="markdownIt-Anchor" href="#e-shohag-loves-inversions"></a> E Shohag Loves Inversions</h4>
<p>从第一次出现逆序对数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\ge 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 开始，<strong>如果不插在末尾</strong>，逆序对数就会单调递增。而这之前都是 01 串，手动模拟一下。枚举第一次逆序对数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\ge 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 情景的时间。出现注意末尾多次插入的情况！</p>
<h4 id="f1-shohag-loves-counting-easy-version-f2-shohag-loves-counting-hard-version"><a class="markdownIt-Anchor" href="#f1-shohag-loves-counting-easy-version-f2-shohag-loves-counting-hard-version"></a> F1 Shohag Loves Counting (Easy Version) / F2 Shohag Loves Counting (Hard Version)</h4>
<p>莫反好题啊！另写题解。11.25 完成补题。</p>
<h4 id="g-shohag-loves-pebae"><a class="markdownIt-Anchor" href="#g-shohag-loves-pebae"></a> *G Shohag Loves Pebae</h4>
<p>没看，不会。</p>
<h4 id="h1-cool-swap-walk-easy-version-h2-cool-swap-walk-hard-version"><a class="markdownIt-Anchor" href="#h1-cool-swap-walk-easy-version-h2-cool-swap-walk-hard-version"></a> *H1 Cool Swap Walk (Easy Version) / H2 Cool Swap Walk (Hard Version)</h4>
<p>感觉不好写，但是看起来很炫酷。</p>
<p>赛时只注意到是边界有交的一些 <code>reverse</code>，然后感觉很麻烦。但是完全可以把 <code>reverse</code> 更严格，是因为我们发现每次都会把第一个移到最后，而剩余的是边界无交的，所以可以干脆做成是否邻项交换。然后我们使用奇偶排序，这我哪会啊。就是第一次交换 12、34……，第二次交换 23、45……，再下一次又是 12、34……，太深奥了。这样可以 H1。</p>
<p>H2 就要求折半，因为上面这个东西是提前钦定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 最小，每次还要复位，所以很低效。所以考虑干脆就着这样做，让这个排列就一直做轮换。认为小于半数的是 A 类，大于等于的是 B 类，在前一半只排 A 类，后一半只排 B 类。还有很多细节，暂且投降。</p>
<h2 id="25"><a class="markdownIt-Anchor" href="#25"></a> 25</h2>
<h3 id="luogu-p5610-ynoi2013-大学-p3987-我永远喜欢珂朵莉~"><a class="markdownIt-Anchor" href="#luogu-p5610-ynoi2013-大学-p3987-我永远喜欢珂朵莉~"></a> Luogu P5610 [Ynoi2013] 大学 / P3987 我永远喜欢珂朵莉~</h3>
<p>暴力除的次数很少，注意是<strong>不考虑除以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的情况</strong>！！！（写之前先留意一下自己的结论对不对。于是可以干脆不记录这个因数。）考虑对每个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 维护它的所有倍数然后二分查找。发现很难做删掉因子，所以<strong>惰性删除</strong>！！！</p>
<p>一个关键卡常：链式前向星寻址过于底效，摊平的时候不可以逐条链访问！对每位记录一个 <code>bel[]</code>。</p>
<p>还有一个：并查集的 <code>find()</code> 虽然是递归，但是写 <code>inline</code> 会快很多。</p>
<h2 id="26"><a class="markdownIt-Anchor" href="#26"></a> 26</h2>
<h3 id="a-珠子bead"><a class="markdownIt-Anchor" href="#a-珠子bead"></a> A 珠子（bead）</h3>
<p>欧拉反演。</p>
<h3 id="b-机器人robot"><a class="markdownIt-Anchor" href="#b-机器人robot"></a> B 机器人（robot）</h3>
<p>换成两个函数的差，然后分奇偶，离散化，差分前缀和。</p>
<h3 id="c-树tree"><a class="markdownIt-Anchor" href="#c-树tree"></a> C 树（tree）</h3>
<p>赛时做不出来，太幽默了。</p>
<p>部分分提示拆项，DP 状态是闲置黑点数和闲置白点数。有三类，每个点先把儿子都跑完再做。</p>
<h3 id="d-钻石岛island"><a class="markdownIt-Anchor" href="#d-钻石岛island"></a> *D 钻石岛（island）</h3>
<p>大致思路：考虑底面只有 6 种状态，画一下发现类似于走一个欧拉回路/路径，一条边来回走可以刻画一下，最后拆两维解同余不定方程，整一整，嗯。</p>
<h2 id="27"><a class="markdownIt-Anchor" href="#27"></a> 27</h2>
<p>会做 0 道计数题，那我完蛋了。</p>
<h3 id="qoj-5367-递增树列"><a class="markdownIt-Anchor" href="#qoj-5367-递增树列"></a> *QOJ 5367 递增树列</h3>
<p>观察不难，树上二维卷积还有抽象组合数，我该怎么办？？？</p>
<h3 id="qoj-9650-链覆盖"><a class="markdownIt-Anchor" href="#qoj-9650-链覆盖"></a> *QOJ 9650 链覆盖</h3>
<p>EGF。我该怎么办？？？</p>
<h3 id="qoj-9561-树数叔术"><a class="markdownIt-Anchor" href="#qoj-9561-树数叔术"></a> *QOJ 9561 树数叔术</h3>
<p>观察不到，我该怎么办？？？</p>
<p>记录一下这个观察：0 肯定只有一个。1 手模一下发现也不得不只有一个。这时候手模多一个！发现 2 可以在 0 到 1 路径上任意放，在其他地方最多放一个。所以结论是这样的：每个数至少有一个，在比他小的虚树上可以随便放，在外面最多放一个。</p>
<p>然后咋写啊？？？</p>
<h2 id="28"><a class="markdownIt-Anchor" href="#28"></a> 28</h2>
<h3 id="a-冒泡pop"><a class="markdownIt-Anchor" href="#a-冒泡pop"></a> A 冒泡（pop）</h3>
<p>手玩得到结论。喜报：<code>n &gt;&gt; 1 | 1</code> 不等于 <code>(n &gt;&gt; 1) + 1</code>。</p>
<h3 id="b-山路-road"><a class="markdownIt-Anchor" href="#b-山路-road"></a> B 山路 (road)</h3>
<p>找最短路和不同色的次短路。也可以理解为最段路树上对于跨越两棵根的子树的横叉边计算贡献。</p>
<h3 id="c-机器-machine"><a class="markdownIt-Anchor" href="#c-机器-machine"></a> C 机器 (machine)</h3>
<p>感觉是好题。赛时所有必要的观察都做了，但是没想到 DP，真是无语。</p>
<p>以 <code>B</code> 为本位考虑，希望尽量多地做 <code>RRB</code>，如果不巧不得不做 <code>RBB</code> 就会 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">1</span></span></span></span> 花费，如果要做奇偶切换就不得不做一次 <code>RB</code>。也就是可以刻画一个方案的花费了。另一个很有用、也可以给出 DP 提示的「有序性」条件是：以终点奇偶性分组，每组内部的起点有序。这个显然。然后我们可以 DP！！！<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">f_{i,j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 表示偶数/奇数分别匹配了多少个，最小花费。构造方案有点麻烦，有两种较为简易的解决办法，但注意麻烦之处都是碰到了起点终点相同的状况。第一种办法让终点代替起点先走，然后起点再代替终点，这是等效的；另一种办法是如果有奇偶转换把它最先做，这样根据有序性以后都不会遇到这种情况。</p>
<h3 id="luogu-p9527-joisc2022-洒水器"><a class="markdownIt-Anchor" href="#luogu-p9527-joisc2022-洒水器"></a> Luogu P9527 [JOISC2022] 洒水器</h3>
<p>拆邻域技巧。</p>
<h3 id="d-旅行-tour"><a class="markdownIt-Anchor" href="#d-旅行-tour"></a> D 旅行 (tour)</h3>
<p>用这个办法，树剖线段树是显然的，每个点上的 tag 种类数非常少，就可以在线了。</p>
<h2 id="29"><a class="markdownIt-Anchor" href="#29"></a> 29</h2>
<h3 id="luogu-p3750-六省联考-2017-分手是祝愿"><a class="markdownIt-Anchor" href="#luogu-p3750-六省联考-2017-分手是祝愿"></a> Luogu P3750 [六省联考 2017] 分手是祝愿</h3>
<p>首先发现一下结果和过程是双射，复原，然后推式子，用差分处理。</p>
<h3 id="luogu-p9968-thupc-2024-初赛-二进制"><a class="markdownIt-Anchor" href="#luogu-p9968-thupc-2024-初赛-二进制"></a> Luogu P9968 [THUPC 2024 初赛] 二进制</h3>
<p>用链表和一些可删堆模拟，每次只考虑同一长度就很快。记得数组要够大，满 2 的次幂。</p>
<h3 id="luogu-p3426-poi2005-sza-template"><a class="markdownIt-Anchor" href="#luogu-p3426-poi2005-sza-template"></a> Luogu P3426 [POI2005] SZA-Template</h3>
<p>从 fail 树上考虑：是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的祖先，且子树内相邻数差最大不超过自己。</p>
<p>感觉，这种归纳方式很没有道理，不适合复习。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E9%A2%98%E8%A7%A3/" class="category-chain-item">题解</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%A0%91%E4%B8%8A%E9%97%AE%E9%A2%98/" class="print-no-link">#树上问题</a>
      
        <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="print-no-link">#动态规划</a>
      
        <a href="/tags/ad-hoc/" class="print-no-link">#ad-hoc</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>题解 - 2024 十一月做题记录</div>
      <div>http://sunsetglow95.github.io/2024/11/18/sol-2024nov/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>SunsetGlow95</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年11月18日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/11/29/sol-CF2039F/" title="题解 - Codeforces 2039 F1/F2 Shohag Loves Counting">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">题解 - Codeforces 2039 F1/F2 Shohag Loves Counting</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/10/07/sol-2024oct/" title="题解 - 2024 十月做题记录">
                        <span class="hidden-mobile">题解 - 2024 十月做题记录</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
